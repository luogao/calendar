(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),l=a.n(r),c=(a(94),a(41)),i=a(31),d=a(42),u=(a(95),a(67)),s=a.n(u),m=a(58),f=a.n(m),b=a(68),p=a(69),v=a.n(p),g=a(70),C=a.n(g),E=a(71),h=a.n(E),y=a(158),k=a(165),w=a(168),O=a(163),j=a(162),x=a(161),S=a(164),N=a(55),D=a(76),W=a(75),I=a.n(W),M=(a(96),"calendar_event_store"),R={title:"\u65e0\u6807\u9898",start:new Date,end:new Date,backgroundColor:"#000000",borderColor:"#000000",textColor:"#ffffff",allDay:!0};var J=function(){var e=localStorage.getItem(M)?JSON.parse(localStorage.getItem(M)):[],t=o.a.useState(e),a=Object(d.a)(t,2),n=a[0],r=a[1],l=o.a.useState(!1),u=Object(d.a)(l,2),m=u[0],p=u[1],g=o.a.useState(!1),E=Object(d.a)(g,2),W=E[0],J=E[1],U=o.a.useState(R),A=Object(d.a)(U,2),B=A[0],L=A[1],T=o.a.useRef(),_=o.a.useRef();function q(){p(!0)}function F(){p(!1)}return o.a.useEffect(function(){localStorage.setItem(M,JSON.stringify(n))}),o.a.createElement("div",{className:"App"},o.a.createElement("main",null,o.a.createElement("div",{className:"calendar-wrapper",ref:_},o.a.createElement(b.a,{height:"parent",ref:T,events:n,eventClick:function(e){console.log("handleEventClick",e.event);var t=e.event,a=t.title,n=t.start,o=t.end,r=t.backgroundColor,l=t.borderColor,c=t.textColor,i=t.id,d=t.allDay;L({title:a,start:n,end:o,backgroundColor:r,borderColor:l,textColor:c,id:i,allDay:d}),J(!0),q()},selectable:!0,eventStartEditable:!0,droppable:!0,editable:!0,dateClick:function(e){},select:function(e){console.log("handleSelect",e);var t=e.end,a=e.start;J(!1),L(Object(i.a)({},B,{end:t,start:a})),q()},locale:h.a,theme:"cosmo",defaultView:"dayGridMonth",plugins:[v.a,C.a],eventDrop:function(e){var t=e.event,a=t.title,o=t.start,l=t.end,i=t.backgroundColor,d=t.borderColor,u=t.textColor,s=t.id,m=t.allDay,f=n.findIndex(function(e){return e.id===s});n.splice(f,1),r([].concat(Object(c.a)(n),[{title:a,start:o,end:l,backgroundColor:i,borderColor:d,textColor:u,id:s,allDay:m}]))}})),o.a.createElement("div",{className:"side-bar"},o.a.createElement(y.a,{onClick:function(){s()(document.querySelector(".calendar-wrapper"),{ignoreElements:function(e){return"fc-right"===e.className}}).then(function(e){!function(e,t){var a=document.createElement("a"),n=function(e){for(var t=e.split(";base64,"),a=t[0].split(":")[1],n=window.atob(t[1]),o=n.length,r=new Uint8Array(o),l=0;l<o;++l)r[l]=n.charCodeAt(l);return new Blob([r],{type:a})}(t);a.download=e,a.href=URL.createObjectURL(n),a.click()}(function(){var e=f()(5);return"".concat("calendar","-").concat(e)}(),function(e){return e.toDataURL("image/png")}(e))})},variant:"contained",color:"primary",fullWidth:!0},"\u4fdd\u5b58"))),o.a.createElement(w.a,{open:m,onClose:F,"aria-labelledby":"form-dialog-title",maxWidth:"sm",fullWidth:!0},o.a.createElement(x.a,{id:"form-dialog-title"},W?"\u7f16\u8f91\u65e5\u7a0b":"\u65b0\u5efa\u65e5\u7a0b"),o.a.createElement(j.a,null,o.a.createElement(k.a,{multiline:!0,autoFocus:!0,margin:"dense",label:"\u65e5\u7a0b\u5185\u5bb9",fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u65e5\u7a0b\u5185\u5bb9",value:B.title,onInput:function(e){L(Object(i.a)({},B,{title:e.target.value}))}}),o.a.createElement(N.b,{utils:D.a,locale:I.a},o.a.createElement(S.a,{container:!0,justify:"space-between",spacing:3},o.a.createElement(S.a,{item:!0,xs:6},o.a.createElement(N.a,{autoOk:!0,fullWidth:!0,format:"yyyy-MM-dd",margin:"dense",disableToolbar:!0,variant:"inline",label:"\u5f00\u59cb\u65f6\u95f4",value:B.start,onChange:function(e){L(Object(i.a)({},B,{start:e}))}})),o.a.createElement(S.a,{item:!0,xs:6},o.a.createElement(N.a,{autoOk:!0,fullWidth:!0,format:"yyyy-MM-dd",margin:"dense",disableToolbar:!0,variant:"inline",label:"\u7ed3\u675f\u65f6\u95f4",value:B.end,onChange:function(e){L(Object(i.a)({},B,{end:e}))}})))),o.a.createElement("div",{className:"color-picker-wrapper"},o.a.createElement("div",{className:"color-picker-label"}," \u6587\u5b57 "),o.a.createElement("input",{type:"color",value:B.textColor,onChange:function(e){L(Object(i.a)({},B,{textColor:e.target.value}))}})),o.a.createElement("div",{className:"color-picker-wrapper"},o.a.createElement("div",{className:"color-picker-label"}," \u80cc\u666f "),o.a.createElement("input",{type:"color",value:B.backgroundColor,onChange:function(e){L(Object(i.a)({},B,{backgroundColor:e.target.value,borderColor:e.target.value}))}}))),o.a.createElement(O.a,null,B.id&&o.a.createElement(y.a,{onClick:function(){var e=n.filter(function(e){return e.id!==B.id});r(Object(c.a)(e)),F()},color:"secondary"},"\u5220\u9664"),o.a.createElement(y.a,{onClick:function(){L(R),F()},color:"primary"},"\u53d6\u6d88"),o.a.createElement(y.a,{onClick:function(){W?function(){var e=n.findIndex(function(e){return e.id===B.id});n.splice(e,1),r([].concat(Object(c.a)(n),[B]))}():function(){var e=Object(i.a)({},B,{id:f()(8)});r([].concat(Object(c.a)(n),[e]))}(),F(),L(R)},color:"primary"},"\u4fdd\u5b58"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,a){e.exports=a(121)},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.636d19c8.chunk.js.map